{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/personDB.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addContact","name","number","handleNameChange","handleNumberChange","onSubmit","type","Persons","persons","handleDelete","filter","obj","toLowerCase","search","map","person","onClick","id","baseUrl","personDB","getAll","axios","get","then","response","data","create","newObject","post","update","put","deleteContact","delete","Notification","message","className","Error","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","notification","setNotification","errorMessage","setErrorMessage","useEffect","initialPersons","event","target","preventDefault","contactObject","find","window","confirm","updatedPersons","setTimeout","catch","error","returnedObject","concat","n","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6ecd6853.chunk.js","sourcesContent":["const Filter = ({ newFilter, handleFilterChange }) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with <input value={newFilter}\n\t\t\tonChange={handleFilterChange} />\n\t\t</div>\n\t)\n}\n\nexport default Filter;","const PersonForm = ({ addContact, name, number, handleNameChange, handleNumberChange }) => {\n\treturn (\n\t<form onSubmit={addContact}>\n\t\t<div>\n\t\t\tname: <input value={name}\n\t\t\tonChange={handleNameChange} />\n\t\t</div>\n\t\t<div>\n\t\t\tnumber: <input value={number}\n\t\t\tonChange={handleNumberChange} />\n\t\t</div>\n\t\t<button type=\"submit\">add</button>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm;","const Persons = ({ persons, newFilter, handleDelete }) => {\n\tconst filtered = persons.filter(obj => obj.name.toLowerCase().search(newFilter.toLowerCase()) !== -1)\n\n\treturn (filtered.map(person =>\n\t\t\t<p key={person.id}>\n\t\t\t\t{person.name} {person.number}\n\t\t\t\t<button onClick={() => handleDelete(person)}>delete</button>\n\t\t\t</p>\n\t\t)\n\t)\n}\n\nexport default Persons;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => response.data)\n}\n\nconst create = newObject => {\n\tconst request = axios.post(baseUrl, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst deleteContact = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then(response => response.data)\n}\n\nconst personDB = { \n  getAll: getAll, \n  create: create, \n  update: update,\n  deleteContact: deleteContact\n}\n\nexport default personDB;","const Notification = ({ message }) => {\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className=\"notification\">\n\t\t\t{message}\n\t\t</div>\n\t)}\n\nconst Error = ({ message }) => {\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className=\"error\">\n\t\t\t{message}\n\t\t</div>\n\t)}\n\nexport { Notification, Error };","import Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personDB from './services/personDB'\nimport React, { useEffect, useState } from 'react'\nimport { Notification, Error } from './components/Notification'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [newFilter, setNewFilter] = useState('')\n\tconst [notification, setNotification] = useState(null)\n\tconst [errorMessage, setErrorMessage] = useState(null)\n\n\tuseEffect(() => {\n\t\tpersonDB\n\t\t\t.getAll()\n\t\t\t.then(initialPersons => {\n\t\t\t\tsetPersons(initialPersons)\n\t\t\t})\n\t}, [])\n\n\tconst addContact = (event) => {\n\t\tevent.preventDefault()\n\t\tconst contactObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n\t\t}\n\t\tif (persons.find(obj => obj.name === contactObject.name)) {\n\t\t\tif (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n\t\t\t\tconst person = persons.find(obj => obj.name === contactObject.name)\n\t\t\t\tpersonDB\n\t\t\t\t\t.update(person.id, contactObject)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tpersonDB\n\t\t\t\t\t\t\t.getAll()\n\t\t\t\t\t\t\t.then(updatedPersons => {\n\t\t\t\t\t\t\t\tsetPersons(updatedPersons)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\tsetNewName('')\n\t\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\t\tsetNotification(`Updated ${person.name}`)\n\t\t\t\t\t\tsetTimeout(() => setNotification(null), 5000)\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tsetErrorMessage(`Information of ${person.name} has already been removed from server`)\n\t\t\t\t\t\tsetTimeout(() => setErrorMessage(null), 5000)\n\t\t\t\t\t\tpersonDB\n\t\t\t\t\t\t\t.getAll()\n\t\t\t\t\t\t\t.then(updatedPersons => (setPersons(updatedPersons)))\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\telse {\n\t\t\tpersonDB\n\t\t\t\t.create(contactObject)\n\t\t\t\t.then(returnedObject => {\n\t\t\t\t\tsetPersons(persons.concat(returnedObject))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\tsetNotification(`Added ${returnedObject.name}`)\n\t\t\t\t\tsetTimeout(() => setNotification(null), 5000)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst handleNameChange = (event) => {\n\t    setNewName(event.target.value)\n    }\n\n\tconst handleNumberChange = (event) => {\n\t    setNewNumber(event.target.value)\n    }\n\n\tconst handleFilterChange = (event) => {\n\t\tsetNewFilter(event.target.value)\n\t}\n\n\tconst handleDelete = person => {\n\t\tif (window.confirm(`Delete ${person.name} ?`)) {\n\t\t\tpersonDB\n\t\t\t\t.deleteContact(person.id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetPersons(persons.filter(n => n.id !== person.id))\n\t\t\t\t\tsetNotification(`Deleted ${person.name}`)\n\t\t\t\t\tsetTimeout(() => setNotification(null), 5000)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetErrorMessage(`the person '${person.name}' was already deleted from server`)\n\t\t\t\t\tsetTimeout(() => setErrorMessage(null), 5000)\n\t\t\t\t\tpersonDB\n\t\t\t\t\t.getAll()\n\t\t\t\t\t.then(updatedPersons => (setPersons(updatedPersons)))\n\t\t\t\t})\n\t\t}\n\t}\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n\t\t\t<Error message={errorMessage} />\n\t\t\t<Notification message={notification} />\n\t\t\t<Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n\t\t\t<h3>add a new</h3>\n\t\t\t<PersonForm addContact={addContact} name={newName} number={newNumber}\n\t\t\t\thandleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n        \t<h3>Numbers</h3>\n\t\t\t<Persons persons={persons} newFilter={newFilter} handleDelete={handleDelete} />\n        </div>\n    )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}